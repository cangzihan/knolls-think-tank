---
tags:
  - 读卡器
---

# NFC
## FAQ
### IC卡和ID卡的区别
IC卡是可读可写可加密，具有16个扇区，在使用扩展性上可以使用在16个场景之上，而且还能存储信息，进行数据交互，而ID卡则只有一个卡号而已，没有存储功能，在使用上局限性很大，要使用也只能使用ID卡的卡号，无其他任何可以用，不能写，不能加密，只能读。 所以IC卡是具有存储功能，而ID卡则无。

## IC卡
IC卡全称集成电路卡（Integrated Circuit Card），又称智能卡（Smart Card）它是将一个微电子芯片嵌入符合ISO 7816标准的卡基中，做成卡片形式，芯片含的存储器（ROM、EEPROM）、保护逻辑电路、甚至带微处理器CPU。带有CPU的IC卡才是真正的智能卡。可读写，容量大，有加密功能，数据记录可靠，使用更方便。
按照嵌入集成电路芯片的形式和芯片类型的不同IC卡大致可分为接触式，非接触式、双界面卡。IC卡可以分为:接触式IC卡、非接触式IC卡和双界面IC卡，而非接触式IC卡简介又称射频卡，成功地解决了无源(卡中无电源)和免接触这一难题，是电子器件领域的一大突破。

IC卡的不同类型和型号各自有不同的功能和应用。以下是对您提到的各个卡片的简要说明：

1. CPU卡
CPU卡是一种智能卡，内置中央处理单元，能够进行复杂的计算和数据处理。它们通常具有更高的安全性和功能，适用于金融、身份验证等领域。

2. SAM卡
SAM（Security Access Module）卡是一种用于增强安全性的智能卡，主要用于加密和解密操作。它们常用于支付系统和安全通信中，提供密钥管理和数据保护。

3. SLE4442
SLE4442是一种非接触式的智能卡，常用于身份识别和门禁控制。它具有4K位的EEPROM存储，支持多种数据传输协议。

4. SLE4428
SLE4428类似于SLE4442，但通常具备更小的存储容量（2K位的EEPROM）。它也用于身份识别和简单的存储应用。

5. AT24Cxx
AT24Cxx是一系列EEPROM芯片，通常用于存储小量数据。它们支持I2C接口，广泛应用于各种电子设备中，如配置存储和数据记录。

IC复制卡种类和功能说明：
- UID卡：最常见的IC复制卡，可以反复擦写
- CUID卡：防火墙IC复制卡，可以通过70%的防火墙系统，不锁卡
- FUID卡：防火墙IC复制卡，可以通过90%的防火墙系统，不锁卡
- UFUID卡：防火墙IC复制卡，可以通过90%的防火墙系统，不锁卡

<table>
  <tr>
    <th>卡类型</th>
    <th>芯片名称</th>
    <th>频率</th>
    <th>擦写</th>
    <th>说明</th>
  </tr>
  <tr>
    <td rowspan="7">IC卡</td>
    <td>M1卡</td>
    <td>13.56MHz</td>
    <td>❌</td>
    <td>普通卡，0块（卡号块）出厂为锁定状态，不可用于复制，只能授权，物业卡均为此卡，俗称授权卡</td>
  </tr>
  <tr>
    <td>UID卡</td>
    <td>13.56MHz</td>
    <td>✔</td>
    <td>经典复制卡，“魔术卡”，可以反复擦写</td>
  </tr>
  <tr>
    <td>CUID卡</td>
    <td>13.56MHz</td>
    <td>✔</td>
    <td>防火墙IC复制卡，对于UID卡复制成功刷卡无效的情况下，可以使用此卡复刻</td>
  </tr>
  <tr>
    <td>FUID卡</td>
    <td>13.56MHz</td>
    <td>❌</td>
    <td>防火墙IC复制卡，对于CUID卡复制成功刷卡无效的情况下，可以使用此卡复刻，一次性写入锁卡</td>
  </tr>
  <tr>
    <td>FUID卡</td>
    <td>13.56MHz</td>
    <td>❌</td>
    <td>功能和FUID卡一样，支持手动锁卡，没有锁卡之前就是一张UID卡，锁卡后不支持擦写</td>
  </tr>
  <tr>
    <td>GTU卡</td>
    <td>13.56MHz</td>
    <td>✔</td>
    <td>可以自动复位数据，用于滚动码防复制系统，支持反复擦写</td>
  </tr>
  <tr>
    <td>GDMIC卡</td>
    <td>13.56MHz</td>
    <td>✔</td>
    <td>可以自动复位数据，用于滚动码防复制系统，支持反复擦写</td>
  </tr>
  <tr>
    <td rowspan="2">ID卡</td>
    <td> T5577卡<br>EM4305卡<br>5200卡 </td>
    <td> 125kHz </td>
    <td>✔</td>
    <td></td>
  </tr>
  <tr>
    <td> F8268卡 </td>
    <td> 125kHz </td>
    <td>✔</td>
    <td>防火墙版本的ID复制卡，用于57卡复制刷卡无效的情况</td>
  </tr>
</table>

滚动码是指，部分系统在刷卡一次后会将卡内某数据增加。

## RFID卡
RFID射频卡是结合RFID射频识别技术的一种非接触式IC卡，属于IC卡。它具有数据处理及安全认证功能等特有的优点，诞生于90年代初，是世界上最近几年发展起来的一项新技术。它能够成功地将射频识技术和IC卡技术结合起来，解决了无源（卡中无电源）和免接触这一难题，是电子器件领域的一大突破。

射频卡（RFID卡）中的不同类型和标准有特定的应用和特点。以下是您提到的各个卡片的简要说明：

1. Mifare S50
Mifare S50是一种常见的非接触式智能卡，具有1KB的EEPROM存储。它广泛用于公共交通、门禁系统和小额支付等场景。

2. Mifare S70
Mifare S70是Mifare系列的升级版，提供了更大的存储容量（4KB EEPROM）。它适用于需要更多数据存储的应用，如会员管理和复杂的身份验证。

3. Mifare Ultralight
Mifare Ultralight是一种成本较低的非接触式卡，通常用于一次性票务和短期应用。它的存储容量较小，适合简单的数据存储需求。

4. Type A CPU
Type A CPU卡是遵循ISO/IEC 7816标准的智能卡，使用Type A的通信协议。这类卡片通常用于安全性要求较高的应用，如金融交易和身份验证。

5. Type B CPU
Type B CPU卡同样遵循ISO/IEC 7816标准，但使用Type B的通信协议。它们适用于需要高安全性和加密功能的应用，如政府身份证和电子护照。

这些卡片各自具有不同的特性和适用场景，广泛应用于安全、支付和身份识别等领域。


## 数据
### Mifare Classic 1k
M1卡存储容量为1k， 被划分为16个扇区，每个扇区4个区块，每个扇区16个字节。

0扇区为公共扇区

其中第1个区块存储卡片有关信息
- 1-4字节：卡号
- 5：卡号异或值，BCC校验信息，将卡号进行异或运算得出来的值
- 6：卡类型，08代表S50卡，20代表CPU卡，28代表CPU模拟卡
- 7-8：应答类别，0400通常为S50卡，0200为S70
- 9-16：生产厂商信息

第4个区块是控制区块

1扇区-15扇区是数据扇区：
- 每一个扇区可以加不同密钥
- 多个扇区存储不同数据，可实现一卡通

1-3区块是数据存储区
4区块是控制区块，前6个字节是密钥A，中间4个是存取控制位，后6个是密钥B

如果16个扇区的AB密钥都是`FF`，那么为非加密卡，如果部分密钥不是`FF`，那么就是半加密卡。

破解主要针对半加密卡。

示例数据：
- 第1区块：0C 08 21 05 01 23 00 03 FF FF 00 00 00 00 00 00
- 第2区块：00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
- 第3区块：00 00 00 00 00 00 00 00 FF FF FF FF FF FF 3B BE
- 第4区块：FF FF FF FF FF 99 FF 07 80 69 FF FF FF FF FF 99

## 工作原理
读卡器释放电磁波，卡内部有相同频率的协振电路，然后给电容充电。

卡片状态：
Power-Off --> Idle --> Ready --> Activate --> Halt

### ISO14443协议（标准）
#### ISO14443-A

常见：Mifare卡

#### ISO14443-B
- TypeB型卡片
- REQB命令请求
- ATQB应答
常见：二代身份证
